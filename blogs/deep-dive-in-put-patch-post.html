<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP Request Methods - Complete Guide with Examples</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #7c3aed;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --gray-light: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header-content h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header-content p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Navigation */
        nav {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .nav-item {
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
        }

        .nav-item:hover,
        .nav-item.active {
            color: var(--primary);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
        }

        /* Main Content */
        main {
            padding: 2rem 0;
        }

        section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--dark);
        }

        .section-title h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }

        /* Method Cards */
        .method-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.07);
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            border-left: 5px solid var(--primary);
        }

        .method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1);
        }

        .method-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .method-title {
            flex: 1;
        }

        .method-name {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .method-description {
            color: var(--gray);
            font-size: 1.1rem;
        }

        .method-badges {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .method-badge {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }

        .badge-safe {
            background: var(--success);
        }

        .badge-idempotent {
            background: var(--info);
        }

        .badge-unsafe {
            background: var(--warning);
        }

        .badge-danger {
            background: var(--danger);
        }

        .badge-cacheable {
            background: var(--primary);
        }

        /* Question Sections */
        .question-section {
            margin: 2rem 0;
        }

        .question {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--primary);
        }

        .question h4 {
            color: var(--dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.2rem;
        }

        .question h4 i {
            color: var(--primary);
        }

        .answer {
            color: var(--gray);
            line-height: 1.7;
        }

        .answer ul,
        .answer ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .answer li {
            margin-bottom: 0.5rem;
        }

        .important-note {
            background: #fff7ed;
            border-left: 4px solid var(--warning);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .important-note h5 {
            color: var(--warning);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Code Examples */
        .code-examples {
            margin-top: 2rem;
        }

        .example-tabs {
            margin-bottom: 1rem;
        }

        .tab-buttons {
            display: flex;
            border-bottom: 1px solid var(--gray-light);
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 0.7rem 1.2rem;
            background: transparent;
            border: none;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray);
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-btn.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }

        .tab-content {
            display: none;
            padding: 1rem 0;
        }

        .tab-content.active {
            display: block;
        }

        .code-block {
            background: #1e293b;
            border-radius: 8px;
            overflow: hidden;
            margin: 1rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .code-header {
            background: #2d3748;
            color: #e2e8f0;
            padding: 0.7rem 1rem;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        pre {
            margin: 0;
            padding: 1rem;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: 'Fira Code', 'Courier New', monospace;
        }

        /* Use Cases */
        .use-cases {
            margin-top: 2rem;
        }

        .use-case-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .use-case {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--success);
        }

        .use-case h5 {
            color: var(--dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .use-case p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1rem 0;
        }

        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: white;
        }

        .copyright {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                text-align: center;
            }

            .tab-buttons {
                flex-direction: column;
            }

            .method-header {
                flex-direction: column;
            }

            .use-case-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container header-content">
            <h1><i class="fas fa-exchange-alt"></i> HTTP Request Methods - Complete Guide</h1>
            <p>Deep dive into POST, PUT, PATCH - Why, When, and How to use them correctly</p>
        </div>
    </header>

    <nav>
        <div class="container nav-container">
            <div class="nav-item active" data-target="overview">Overview</div>
            <div class="nav-item" data-target="post">POST Method</div>
            <div class="nav-item" data-target="put">PUT Method</div>
            <div class="nav-item" data-target="patch">PATCH Method</div>
            <div class="nav-item" data-target="comparison">Comparison</div>
        </div>
    </nav>

    <main class="container">
        <!-- Overview Section -->
        <section id="overview" class="active">
            <div class="section-title">
                <h2>Why Use Specific HTTP Methods?</h2>
                <p>Understanding the philosophy behind RESTful API design and HTTP semantics</p>
            </div>

            <div class="method-card">
                <div class="question-section">
                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Why can't I just use POST for everything?</h4>
                        <div class="answer">
                            <p><strong>Technically, you can use POST for everything</strong>, but there are important
                                reasons why you shouldn't:</p>

                            <div class="important-note">
                                <h5><i class="fas fa-exclamation-triangle"></i> The Problem with "POST for Everything"
                                </h5>
                                <p>If you use POST for all operations, you lose:</p>
                                <ul>
                                    <li><strong>Semantic Meaning:</strong> Other developers can't understand your API's
                                        intent</li>
                                    <li><strong>Idempotency Guarantees:</strong> PUT and DELETE are idempotent, POST is
                                        not</li>
                                    <li><strong>Caching Opportunities:</strong> GET responses can be cached</li>
                                    <li><strong>Automatic Retries:</strong> Safe methods can be retried automatically
                                    </li>
                                    <li><strong>API Discoverability:</strong> Tools can't automatically understand your
                                        API</li>
                                </ul>
                            </div>

                            <h5>Benefits of Using Proper HTTP Methods:</h5>
                            <ul>
                                <li><strong>Self-documenting APIs:</strong> The method tells you what the operation does
                                </li>
                                <li><strong>Predictable Behavior:</strong> Standardized expectations across all APIs
                                </li>
                                <li><strong>Better Tooling:</strong> HTTP clients, proxies, and caches work better</li>
                                <li><strong>Security:</strong> Safe methods (GET, HEAD) can be treated differently</li>
                                <li><strong>Performance:</strong> Caching and optimization opportunities</li>
                            </ul>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-lightbulb"></i> The RESTful Philosophy</h4>
                        <div class="answer">
                            <p>REST (Representational State Transfer) is built around <strong>resources</strong> and
                                <strong>standardized operations</strong>:</p>

                            <div class="use-case-grid">
                                <div class="use-case">
                                    <h5><i class="fas fa-plus-circle"></i> POST</h5>
                                    <p><strong>Create</strong> new resources when you don't know the ID</p>
                                </div>
                                <div class="use-case">
                                    <h5><i class="fas fa-database"></i> GET</h5>
                                    <p><strong>Read</strong> existing resources without side effects</p>
                                </div>
                                <div class="use-case">
                                    <h5><i class="fas fa-sync-alt"></i> PUT</h5>
                                    <p><strong>Update/Replace</strong> entire resources (complete replacement)</p>
                                </div>
                                <div class="use-case">
                                    <h5><i class="fas fa-edit"></i> PATCH</h5>
                                    <p><strong>Partial Update</strong> specific fields of a resource</p>
                                </div>
                                <div class="use-case">
                                    <h5><i class="fas fa-trash-alt"></i> DELETE</h5>
                                    <p><strong>Delete</strong> existing resources</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- POST Method Section -->
        <section id="post">
            <div class="section-title">
                <h2>POST Method - Create Resources</h2>
                <p>The method for creating new resources when you don't control the resource ID</p>
            </div>

            <div class="method-card">
                <div class="method-header">
                    <div class="method-title">
                        <div class="method-name">POST</div>
                        <div class="method-description">
                            Submit an entity to the specified resource, often causing a change in state or side effects
                        </div>
                    </div>
                    <div class="method-badges">
                        <div class="method-badge badge-unsafe">Unsafe</div>
                        <div class="method-badge badge-danger">Not Idempotent</div>
                        <div class="method-badge badge-danger">Not Cacheable</div>
                    </div>
                </div>

                <div class="question-section">
                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> What is POST?</h4>
                        <div class="answer">
                            <p><strong>POST</strong> is used to <strong>create new resources</strong> when the server
                                determines the resource ID. It's the most flexible HTTP method but also the least
                                predictable.</p>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Why should I use POST?</h4>
                        <div class="answer">
                            <p>Use POST when:</p>
                            <ul>
                                <li><strong>Creating new resources</strong> where the server generates the ID</li>
                                <li><strong>Performing actions</strong> that don't fit CRUD operations (like payments,
                                    searches)</li>
                                <li><strong>Appending data</strong> to existing resources</li>
                                <li><strong>When you need flexibility</strong> beyond simple CRUD operations</li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-exclamation-triangle"></i> POST is NOT Idempotent</h5>
                                <p>Multiple identical POST requests will create multiple resources. This is why payment
                                    processing should use POST - you don't want duplicate charges!</p>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> When should I use POST?</h4>
                        <div class="answer">
                            <p><strong>Perfect use cases for POST:</strong></p>
                            <ul>
                                <li><strong>User registration</strong> - Server assigns user ID</li>
                                <li><strong>Creating new blog posts</strong> - Server generates slug/ID</li>
                                <li><strong>Submitting forms</strong> - Contact forms, surveys</li>
                                <li><strong>File uploads</strong> - Server stores and names the file</li>
                                <li><strong>Payment processing</strong> - Non-idempotent financial transactions</li>
                                <li><strong>Complex searches</strong> - When query parameters are too long for GET</li>
                            </ul>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> How do I use POST?</h4>
                        <div class="answer">
                            <p>POST requests typically include a request body with the data to create, and return the
                                created resource with its new ID.</p>

                            <div class="code-examples">
                                <div class="example-tabs">
                                    <div class="tab-buttons">
                                        <button class="tab-btn active" data-tab="post-curl">cURL</button>
                                        <button class="tab-btn" data-tab="post-js">JavaScript</button>
                                        <button class="tab-btn" data-tab="post-python">Python</button>
                                    </div>

                                    <div class="tab-content active" id="post-curl">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Create a new user</span>
                                            </div>
                                            <pre><code class="language-bash"># Create a new user - server will generate user ID
curl -X POST "https://api.example.com/users" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer token123" \
  -d '{
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "password": "securepassword123"
  }'

# Expected Response:
# HTTP 201 Created
# Location: /users/789
# {
#   "id": 789,
#   "name": "Alice Johnson",
#   "email": "alice@example.com",
#   "created_at": "2023-10-05T10:30:00Z"
# }</code></pre>
                                        </div>
                                    </div>

                                    <div class="tab-content" id="post-js">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Create user with Fetch API</span>
                                            </div>
                                            <pre><code class="language-javascript">// Create a new user
async function createUser(userData) {
  try {
    const response = await fetch('https://api.example.com/users', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer token123'
      },
      body: JSON.stringify(userData)
    });
    
    if (response.status === 201) {
      const newUser = await response.json();
      console.log('User created:', newUser);
      return newUser;
    } else {
      throw new Error(`Failed to create user: ${response.status}`);
    }
  } catch (error) {
    console.error('Error creating user:', error);
  }
}

// Usage
const userData = {
  name: 'Alice Johnson',
  email: 'alice@example.com',
  password: 'securepassword123'
};

createUser(userData);</code></pre>
                                        </div>
                                    </div>

                                    <div class="tab-content" id="post-python">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Create user with Python Requests</span>
                                            </div>
                                            <pre><code class="language-python">import requests
import json

def create_user(user_data):
    """Create a new user using POST"""
    try:
        response = requests.post(
            'https://api.example.com/users',
            headers={
                'Content-Type': 'application/json',
                'Authorization': 'Bearer token123'
            },
            data=json.dumps(user_data)
        )
        
        if response.status_code == 201:
            new_user = response.json()
            print(f"User created: {new_user}")
            return new_user
        else:
            print(f"Failed to create user: {response.status_code}")
            return None
            
    except requests.exceptions.RequestException as e:
        print(f"Error creating user: {e}")
        return None

# Usage
user_data = {
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "password": "securepassword123"
}

new_user = create_user(user_data)</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Where should I use POST?</h4>
                        <div class="answer">
                            <p><strong>POST endpoints typically follow these patterns:</strong></p>
                            <ul>
                                <li><code>POST /resources</code> - Create a new resource</li>
                                <li><code>POST /resources/{id}/actions</code> - Perform action on resource</li>
                                <li><code>POST /search</code> - Complex searches with large payloads</li>
                                <li><code>POST /upload</code> - File upload endpoints</li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-check-circle"></i> Best Practices for POST</h5>
                                <ul>
                                    <li>Return <strong>HTTP 201 Created</strong> on success</li>
                                    <li>Include <strong>Location</strong> header with URL to new resource</li>
                                    <li>Return the created resource in response body</li>
                                    <li>Validate all input data thoroughly</li>
                                    <li>Use CSRF protection for browser-based forms</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PUT Method Section -->
        <section id="put">
            <div class="section-title">
                <h2>PUT Method - Replace Resources</h2>
                <p>The idempotent method for complete resource replacement</p>
            </div>

            <div class="method-card">
                <div class="method-header">
                    <div class="method-title">
                        <div class="method-name">PUT</div>
                        <div class="method-description">
                            Replace all current representations of the target resource with the request payload
                        </div>
                    </div>
                    <div class="method-badges">
                        <div class="method-badge badge-unsafe">Unsafe</div>
                        <div class="method-badge badge-idempotent">Idempotent</div>
                        <div class="method-badge badge-danger">Not Cacheable</div>
                    </div>
                </div>

                <div class="question-section">
                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> What is PUT?</h4>
                        <div class="answer">
                            <p><strong>PUT</strong> is used to <strong>completely replace</strong> an existing resource
                                or create it if it doesn't exist. The client provides the entire resource
                                representation.</p>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Why should I use PUT?</h4>
                        <div class="answer">
                            <p>Use PUT when:</p>
                            <ul>
                                <li><strong>You need idempotency</strong> - Multiple identical requests have same effect
                                </li>
                                <li><strong>You're replacing entire resources</strong> - Not just updating parts</li>
                                <li><strong>You know the resource ID</strong> - Client controls the identifier</li>
                                <li><strong>For reliable updates</strong> - Can be safely retried on network failures
                                </li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-bolt"></i> PUT is Idempotent</h5>
                                <p>Calling PUT multiple times with the same data has the same effect as calling it once.
                                    This is crucial for reliability and automatic retries.</p>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> When should I use PUT?</h4>
                        <div class="answer">
                            <p><strong>Perfect use cases for PUT:</strong></p>
                            <ul>
                                <li><strong>Updating user profiles</strong> - Complete replacement of profile data</li>
                                <li><strong>Document editing</strong> - Replacing entire document content</li>
                                <li><strong>Configuration updates</strong> - Replacing entire configuration objects</li>
                                <li><strong>Creating resources with known IDs</strong> - When client controls the ID
                                </li>
                                <li><strong>Bulk data replacement</strong> - Replacing entire datasets</li>
                            </ul>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> How do I use PUT?</h4>
                        <div class="answer">
                            <p>PUT requests include the complete resource representation in the body and target a
                                specific resource URL.</p>

                            <div class="code-examples">
                                <div class="example-tabs">
                                    <div class="tab-buttons">
                                        <button class="tab-btn active" data-tab="put-curl">cURL</button>
                                        <button class="tab-btn" data-tab="put-js">JavaScript</button>
                                        <button class="tab-btn" data-tab="put-python">Python</button>
                                    </div>

                                    <div class="tab-content active" id="put-curl">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Completely replace user data</span>
                                            </div>
                                            <pre><code class="language-bash"># Replace entire user resource
curl -X PUT "https://api.example.com/users/123" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer token123" \
  -d '{
    "id": 123,
    "name": "Alice Smith",           # Changed from "Alice Johnson"
    "email": "alice.smith@example.com", # Changed email
    "age": 29,                       # Added new field
    "preferences": {                 # Added complex field
      "theme": "dark",
      "notifications": true
    }
  }'

# Note: All previous fields are replaced
# If user had 'phone_number' before, it's now gone</code></pre>
                                        </div>
                                    </div>

                                    <div class="tab-content" id="put-js">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Replace user with Fetch API</span>
                                            </div>
                                            <pre><code class="language-javascript">// Completely replace user data
async function replaceUser(userId, userData) {
  try {
    const response = await fetch(`https://api.example.com/users/${userId}`, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer token123'
      },
      body: JSON.stringify(userData)
    });
    
    if (response.ok) {
      const updatedUser = await response.json();
      console.log('User replaced:', updatedUser);
      return updatedUser;
    } else {
      throw new Error(`Failed to replace user: ${response.status}`);
    }
  } catch (error) {
    console.error('Error replacing user:', error);
  }
}

// Usage - must provide COMPLETE user representation
const completeUserData = {
  id: 123,
  name: 'Alice Smith',
  email: 'alice.smith@example.com',
  age: 29,
  preferences: {
    theme: 'dark',
    notifications: true
  }
};

replaceUser(123, completeUserData);</code></pre>
                                        </div>
                                    </div>

                                    <div class="tab-content" id="put-python">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Replace user with Python Requests</span>
                                            </div>
                                            <pre><code class="language-python">import requests
import json

def replace_user(user_id, user_data):
    """Completely replace user using PUT"""
    try:
        response = requests.put(
            f'https://api.example.com/users/{user_id}',
            headers={
                'Content-Type': 'application/json',
                'Authorization': 'Bearer token123'
            },
            data=json.dumps(user_data)
        )
        
        if response.status_code == 200:
            updated_user = response.json()
            print(f"User replaced: {updated_user}")
            return updated_user
        else:
            print(f"Failed to replace user: {response.status_code}")
            return None
            
    except requests.exceptions.RequestException as e:
        print(f"Error replacing user: {e}")
        return None

# Usage - must provide complete representation
user_data = {
    "id": 123,
    "name": "Alice Smith",
    "email": "alice.smith@example.com", 
    "age": 29,
    "preferences": {
        "theme": "dark",
        "notifications": True
    }
}

replace_user(123, user_data)</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Where should I use PUT?</h4>
                        <div class="answer">
                            <p><strong>PUT endpoints typically target specific resources:</strong></p>
                            <ul>
                                <li><code>PUT /resources/{id}</code> - Replace specific resource</li>
                                <li><code>PUT /users/{id}/profile</code> - Replace user profile</li>
                                <li><code>PUT /documents/{id}/content</code> - Replace document content</li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-exclamation-triangle"></i> PUT vs POST for Creation</h5>
                                <p><strong>POST /users</strong> - Server generates ID (usually auto-increment)<br>
                                    <strong>PUT /users/123</strong> - Client specifies ID (when you control identifiers)
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PATCH Method Section -->
        <section id="patch">
            <div class="section-title">
                <h2>PATCH Method - Partial Updates</h2>
                <p>The efficient method for updating specific resource fields</p>
            </div>

            <div class="method-card">
                <div class="method-header">
                    <div class="method-title">
                        <div class="method-name">PATCH</div>
                        <div class="method-description">
                            Apply partial modifications to a resource without replacing the entire entity
                        </div>
                    </div>
                    <div class="method-badges">
                        <div class="method-badge badge-unsafe">Unsafe</div>
                        <div class="method-badge badge-danger">Not Idempotent*</div>
                        <div class="method-badge badge-danger">Not Cacheable</div>
                    </div>
                </div>

                <div class="question-section">
                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> What is PATCH?</h4>
                        <div class="answer">
                            <p><strong>PATCH</strong> is used to <strong>partially update</strong> an existing resource.
                                Only the fields provided in the request are modified; other fields remain unchanged.</p>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Why should I use PATCH?</h4>
                        <div class="answer">
                            <p>Use PATCH when:</p>
                            <ul>
                                <li><strong>You only need to update specific fields</strong> - More efficient than PUT
                                </li>
                                <li><strong>You want to avoid race conditions</strong> - Multiple clients can update
                                    different fields</li>
                                <li><strong>Bandwidth conservation</strong> - Send only changed data</li>
                                <li><strong>Complex objects</strong> - When objects have many optional fields</li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-info-circle"></i> PATCH Idempotency</h5>
                                <p>PATCH is not inherently idempotent, but it can be made idempotent depending on the
                                    patch format used (like JSON Patch).</p>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> When should I use PATCH?</h4>
                        <div class="answer">
                            <p><strong>Perfect use cases for PATCH:</strong></p>
                            <ul>
                                <li><strong>Updating user preferences</strong> - Change theme, language, etc.</li>
                                <li><strong>Toggle operations</strong> - Enable/disable features</li>
                                <li><strong>Incrementing counters</strong> - Views, likes, shares</li>
                                <li><strong>Partial form updates</strong> - Save draft data</li>
                                <li><strong>Real-time collaboration</strong> - Multiple users editing different parts
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> How do I use PATCH?</h4>
                        <div class="answer">
                            <p>PATCH requests include only the fields that need to be updated. There are different
                                formats for PATCH requests:</p>

                            <div class="code-examples">
                                <div class="example-tabs">
                                    <div class="tab-buttons">
                                        <button class="tab-btn active" data-tab="patch-simple">Simple PATCH</button>
                                        <button class="tab-btn" data-tab="patch-json">JSON Patch</button>
                                        <button class="tab-btn" data-tab="patch-merge">JSON Merge</button>
                                    </div>

                                    <div class="tab-content active" id="patch-simple">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>Simple Partial Update (Most Common)</span>
                                            </div>
                                            <pre><code class="language-bash"># Update only specific user fields
curl -X PATCH "https://api.example.com/users/123" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer token123" \
  -d '{
    "age": 30,           # Only update age
    "preferences": {     # Update nested preferences
      "theme": "light"   # Only change theme, keep other preferences
    }
  }'

# Previous user data:
# {
#   "id": 123,
#   "name": "Alice Johnson",
#   "email": "alice@example.com",
#   "age": 29,                    # This will change to 30
#   "phone_number": "123-456-7890", # This remains unchanged
#   "preferences": {
#     "theme": "dark",            # This will change to "light"
#     "notifications": true       # This remains unchanged
#   }
# }</code></pre>
                                        </div>
                                    </div>

                                    <div class="tab-content" id="patch-json">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>JSON Patch Format (RFC 6902)</span>
                                            </div>
                                            <pre><code class="language-bash"># JSON Patch - standard format for complex operations
curl -X PATCH "https://api.example.com/users/123" \
  -H "Content-Type: application/json-patch+json" \
  -H "Authorization: Bearer token123" \
  -d '[
    { "op": "replace", "path": "/age", "value": 30 },
    { "op": "replace", "path": "/preferences/theme", "value": "light" },
    { "op": "add", "path": "/tags", "value": ["vip", "premium"] },
    { "op": "remove", "path": "/phone_number" }
  ]'

# Benefits:
# - Standardized format
# - Complex operations (add, remove, replace, move, copy)
# - Atomic operations (all or nothing)
# - Idempotent operations</code></pre>
                                        </div>
                                    </div>

                                    <div class="tab-content" id="patch-merge">
                                        <div class="code-block">
                                            <div class="code-header">
                                                <span>JSON Merge Patch (RFC 7396)</span>
                                            </div>
                                            <pre><code class="language-bash"># JSON Merge Patch - simpler alternative
curl -X PATCH "https://api.example.com/users/123" \
  -H "Content-Type: application/merge-patch+json" \
  -H "Authorization: Bearer token123" \
  -d '{
    "age": 30,
    "preferences": {
      "theme": "light"
    },
    "tags": ["vip", "premium"],
    "phone_number": null  # Remove phone number by setting to null
  }'

# Benefits:
# - Simpler syntax
# - Easy to understand
# - Good for simple updates
# Note: Cannot set fields to null explicitly</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Where should I use PATCH?</h4>
                        <div class="answer">
                            <p><strong>PATCH endpoints follow the same patterns as PUT:</strong></p>
                            <ul>
                                <li><code>PATCH /resources/{id}</code> - Partially update specific resource</li>
                                <li><code>PATCH /users/{id}/preferences</code> - Update user preferences</li>
                                <li><code>PATCH /articles/{id}/metadata</code> - Update article metadata</li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-balance-scale"></i> PATCH vs PUT - Key Differences</h5>
                                <p><strong>PUT:</strong> <code>{"name": "John", "age": 30}</code> → Replaces entire
                                    resource<br>
                                    <strong>PATCH:</strong> <code>{"age": 31}</code> → Updates only age, name remains
                                    unchanged
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Comparison Section -->
        <section id="comparison">
            <div class="section-title">
                <h2>POST vs PUT vs PATCH - Complete Comparison</h2>
                <p>When to use each method and why it matters</p>
            </div>

            <div class="method-card">
                <div class="question-section">
                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Quick Decision Guide</h4>
                        <div class="answer">
                            <div class="use-case-grid">
                                <div class="use-case">
                                    <h5><i class="fas fa-plus-circle"></i> Use POST when:</h5>
                                    <p>• Creating new resources (server generates ID)<br>
                                        • Performing non-CRUD actions<br>
                                        • File uploads<br>
                                        • Complex operations</p>
                                </div>
                                <div class="use-case">
                                    <h5><i class="fas fa-sync-alt"></i> Use PUT when:</h5>
                                    <p>• Replacing entire resources<br>
                                        • Creating with known IDs<br>
                                        • When you need idempotency<br>
                                        • Complete resource updates</p>
                                </div>
                                <div class="use-case">
                                    <h5><i class="fas fa-edit"></i> Use PATCH when:</h5>
                                    <p>• Updating specific fields<br>
                                        • Partial updates<br>
                                        • Bandwidth optimization<br>
                                        • Concurrent updates</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Detailed Comparison Table</h4>
                        <div class="answer">
                            <div class="code-block">
                                <div class="code-header">
                                    <span>POST vs PUT vs PATCH Comparison</span>
                                </div>
                                <pre><code class="language-markdown">| Aspect          | POST                      | PUT                        | PATCH                      |
|-----------------|---------------------------|----------------------------|----------------------------|
| **Purpose**     | Create new resources      | Replace entire resource    | Partial update             |
| **Idempotent**  | ❌ No                     | ✅ Yes                     | ⚠️ Depends on format      |
| **URL**         | /resources                | /resources/{id}           | /resources/{id}           |
| **Body**        | Data to create            | Complete resource          | Fields to update           |
| **Response**    | 201 Created + Location    | 200 OK or 201 Created      | 200 OK                     |
| **Creation**    | Server generates ID       | Client specifies ID        | N/A (update only)          |
| **Safety**      | ❌ Unsafe                 | ❌ Unsafe                  | ❌ Unsafe                  |
| **Cacheable**   | ❌ No                     | ❌ No                      | ❌ No                      |

## Real-world Examples:

### User Management:
POST   /users      → Create user (server assigns ID: 789)
PUT    /users/123  → Replace user 123 completely
PATCH  /users/123  → Update only email of user 123

### Blog System:
POST   /articles      → Create article (slug: "my-article")
PUT    /articles/456  → Replace entire article content
PATCH  /articles/456  → Update only title or tags

### Why This Matters:

1. **API Clarity**: Other developers understand your intent
2. **Reliability**: Idempotent methods can be safely retried
3. **Performance**: Proper caching and optimization
4. **Tooling**: HTTP clients and proxies work correctly
5. **Standards**: Follow REST principles and HTTP specifications</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Common Mistakes to Avoid</h4>
                        <div class="answer">
                            <div class="important-note">
                                <h5><i class="fas fa-exclamation-triangle"></i> Anti-patterns and Bad Practices</h5>
                                <ul>
                                    <li><strong>Using POST for updates</strong> - Loses idempotency and semantic meaning
                                    </li>
                                    <li><strong>Using PUT for partial updates</strong> - Can accidentally remove fields
                                    </li>
                                    <li><strong>Ignoring HTTP status codes</strong> - Always return appropriate status
                                        codes</li>
                                    <li><strong>Mixing creation and update in same endpoint</strong> - Keep them
                                        separate</li>
                                    <li><strong>Not supporting PATCH</strong> - Forces clients to use PUT or multiple
                                        requests</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <h4><i class="fas fa-question-circle"></i> Final Recommendation</h4>
                        <div class="answer">
                            <p><strong>Follow this simple rule:</strong></p>
                            <ul>
                                <li><strong>POST</strong> - When you want the server to create something new and assign
                                    the ID</li>
                                <li><strong>PUT</strong> - When you want to completely replace something that exists at
                                    a specific URL</li>
                                <li><strong>PATCH</strong> - When you want to update part of something that exists at a
                                    specific URL</li>
                                <li><strong>GET</strong> - When you want to read something without changing it</li>
                                <li><strong>DELETE</strong> - When you want to remove something</li>
                            </ul>

                            <div class="important-note">
                                <h5><i class="fas fa-check-circle"></i> The Bottom Line</h5>
                                <p>While you <em>technically</em> can use POST for everything, using the right HTTP
                                    methods makes your API:</p>
                                <ul>
                                    <li><strong>More predictable</strong> - Developers know what to expect</li>
                                    <li><strong>More reliable</strong> - Idempotent operations prevent duplicates</li>
                                    <li><strong>More efficient</strong> - Proper caching and smaller payloads</li>
                                    <li><strong>More standard</strong> - Works well with existing tools and
                                        infrastructure</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container footer-content">
            <h3>HTTP Methods Complete Guide</h3>
            <p>Understanding the why behind HTTP method choices</p>

            <div class="footer-links">
                <a href="#"><i class="fab fa-github"></i> Examples</a>
                <a href="#"><i class="fas fa-book"></i> RFC Specifications</a>
                <a href="#"><i class="fas fa-globe"></i> MDN Web Docs</a>
            </div>

            <div class="copyright">
                <p>&copy; 2023 HTTP Methods Guide | Created for educational purposes</p>
            </div>
        </div>
    </footer>

    <script>
        // Initialize syntax highlighting
        hljs.highlightAll();

        // Navigation functionality
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function () {
                // Remove active class from all nav items
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });

                // Add active class to clicked nav item
                this.classList.add('active');

                // Hide all sections
                document.querySelectorAll('section').forEach(section => {
                    section.classList.remove('active');
                });

                // Show target section
                const targetId = this.getAttribute('data-target');
                document.getElementById(targetId).classList.add('active');

                // Re-highlight code in the new section
                setTimeout(() => {
                    document.querySelectorAll('pre code').forEach((block) => {
                        hljs.highlightElement(block);
                    });
                }, 100);

                // Scroll to top
                window.scrollTo(0, 0);
            });
        });

        // Tab functionality for code examples
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', function () {
                const tabId = this.getAttribute('data-tab');
                const tabContainer = this.closest('.example-tabs');

                // Remove active class from all buttons in this tab container
                tabContainer.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });

                // Add active class to clicked button
                this.classList.add('active');

                // Hide all tab content in this container
                tabContainer.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });

                // Show target tab content
                document.getElementById(tabId).classList.add('active');

                // Re-highlight code in the new tab
                setTimeout(() => {
                    document.querySelectorAll('pre code').forEach((block) => {
                        hljs.highlightElement(block);
                    });
                }, 100);
            });
        });
    </script>
</body>

</html>